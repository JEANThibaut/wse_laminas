<?php foreach ($this->flashMessenger()->getMessages() as $message): ?>
    <div class="alert alert-info"><?= $this->escapeHtml($message) ?></div>
<?php endforeach; ?>
<?php foreach ($this->flashMessenger()->getErrorMessages() as $message): ?>
    <div class="alert alert-danger"><?= $this->escapeHtml($message) ?></div>
<?php endforeach; ?>
<?php foreach ($this->flashMessenger()->getSuccessMessages() as $message): ?>
    <div class="alert alert-success"><?= $this->escapeHtml($message) ?></div>
<?php endforeach; ?>
<?php foreach ($this->flashMessenger()->getWarningMessages() as $message): ?>
    <div class="alert alert-warning"><?= $this->escapeHtml($message) ?></div>
<?php endforeach; ?>

<div class="card mt-4">
    <h4>Modifier une actu</h4>

    <form method="post" class="mt-3">
        <div class="row">
            <div class="form-group col-sm-6">
                <label for="titre">Titre</label>
                <input type="text"
                       class="form-control"
                       name="titre"
                       id="titre"
                       value="<?= $this->escapeHtmlAttr($actus->getTitre()) ?>"
                       required>
            </div>

            <div class="form-group col-sm-6">
                <label for="type">Type</label>
                <input type="text"
                       class="form-control"
                       name="type"
                       id="type"
                       value="<?= $this->escapeHtmlAttr($actus->getType()) ?>">
            </div>
        </div>

        <div class="row mt-3">
            <div class="form-group col-sm-6">
                <label for="date">Date</label>
                <input type="text"
                       class="form-control datepicker"
                       name="date"
                       id="date"
                       value="<?= $actus->getDate() ? $this->escapeHtmlAttr($actus->getDate()->format('d/m/Y')) : '' ?>"
                       required>
            </div>

            <div class="form-group col-sm-6">
                <label for="is_active">Statut</label>
                <select class="form-control" name="is_active" id="is_active">
                    <option value="1" <?= $actus->getIsActive() ? 'selected' : '' ?>>Actif</option>
                    <option value="0" <?= ! $actus->getIsActive() ? 'selected' : '' ?>>Inactif</option>
                </select>
            </div>
        </div>

        <div class="form-group mt-3">
            <label for="lien">Lien</label>
            <input type="text"
                   class="form-control"
                   name="lien"
                   id="lien"
                   value="<?= $this->escapeHtmlAttr($actus->getLien()) ?>">
        </div>

        <div class="form-group mt-3">
            <label for="contenu">Contenu</label>
            <textarea class="form-control" name="contenu" id="contenu" rows="6" required><?= $this->escapeHtml($actus->getContenu()) ?></textarea>
        </div>

        <div class="form-group mt-3">
            <button type="submit" class="btn btn-warning">Enregistrer</button>
            <a href="<?= $this->url('actus-index') ?>" class="btn btn-secondary">Annuler</a>
        </div>
    </form>
</div>
